<!DOCTYPE html>
<html>
  <head>
    <title>CFA: Team Salt Lake Q1 Report</title>

    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,900,300" rel="stylesheet" type='text/css'>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.4.3/tabletop.min.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
    <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
    <script src="//d3js.org/d3.v3.js"></script>

  </head>

  <style>
    
    body {
      font-family: 'Source Sans Pro', sans-serif;
      margin: 0px;
      padding: 0px;
      overflow-x: hidden;
      background-color: #152c33;
      color: #FFF;
    }

    a, a:hover, a:visited, a:active {
      text-decoration: none;
      color: #FFF;
    }

    .fa {
      padding-top: 15px;
      padding-bottom: 5px;
      font-size: 2.25em;
    }

    .title {
      top: 25px;
      right: 25px;
      position: absolute;
    }

    .title .big, .title .sub {
      display: block;
      clear: both;
      background-color: orange;
      padding: 5px 10px 5px 10px;
      margin-bottom: 10px;
      float: right;
    }

    .title .big a, .title .sub a {
      color: #152c33;
    }

    .title .big {
      font-size: 2em;
      font-weight: 900;
    }

    .about {
      position: fixed;
      bottom: 0px;
    }

    .about .text {
      float: left;
      padding: 10px;
      padding-bottom: 0px;
      margin-bottom: 0px;
      background-color: #2b5b69;
      overflow: hidden;
      height: 40px;
      overflow-y: scroll;
    }

    .about .text a {
      font-weight: 700;
      text-decoration: underline;
    }

    .menu-box {
      margin: 0 auto;
      margin-top: 10%;
      background-color: orange;
      width: 435px;
    }

    .hex {
      position: absolute;
    }

    .hexagon {
      width: 144px;
      height: 90px;
      background: orange;
      position: relative;
      text-align: center;
      font-weight: 900;
      text-shadow: 0px 0px 20px #330000;
      cursor: pointer;
    }
    .hexagon:before {
      content: "";
      position: absolute;
      top: -40px;
      left: 0;
      width: 0;
      height: 0;
      border-left: 72px solid transparent;
      border-right: 72px solid transparent;
      border-bottom: 40px solid orange;
    }
    .hexagon:after {
      content: "";
      position: absolute;
      bottom: -40px;
      left: 0;
      width: 0;
      height: 0;
      border-left: 72px solid transparent;
      border-right: 72px solid transparent;
      border-top: 40px solid orange;
    }

    .hexagon:hover {
      transition: all .2s ease-in-out;
      transform: scale(0.9);
    }

    .hexagon.one { background: #ffd000; }
    .hexagon.one:before { border-bottom: 40px solid #ffd000; }
    .hexagon.one:after { border-top: 40px solid #ffd000; }

    .hexagon.one-alt { background: #d2ab00; }
    .hexagon.one-alt:before { border-bottom: 40px solid #d2ab00; }
    .hexagon.one-alt:after { border-top: 40px solid #d2ab00; }

    .hexagon.two { background: #ffba00; }
    .hexagon.two:before { border-bottom: 40px solid #ffba00; }
    .hexagon.two:after { border-top: 40px solid #ffba00; }

    .hexagon.two-alt { background: ##e6a700; }
    .hexagon.two-alt:before { border-bottom: 40px solid ##e6a700; }
    .hexagon.two-alt:after { border-top: 40px solid ##e6a700; }

    .hexagon.three { background: #ff9000; }
    .hexagon.three:before { border-bottom: 40px solid #ff9000; }
    .hexagon.three:after { border-top: 40px solid #ff9000; }

    .hexagon.four { background: #ff6500; }
    .hexagon.four:before { border-bottom: 40px solid #ff6500; }
    .hexagon.four:after { border-top: 40px solid #ff6500; }

    .hexagon.four-alt { background: #cc5000; }
    .hexagon.four-alt:before { border-bottom: 40px solid #cc5000; }
    .hexagon.four-alt:after { border-top: 40px solid #cc5000; }

    .map {
      position: fixed;
      top: 50%;
      left: 50%;
      margin-top: -250px;
      margin-left: -350px;
      border-radius: 5px;
      width: 700px;
      height: 500px;
      padding: 10px;
      z-index: 120;
      background-color: #060d0f;
    }

    #map {
      height: 100%;
      width: 100%;
    }

    .leaflet-popup-content-wrapper, .leaflet-popup-tip {
      background-color: #152c33;
    }

  </style>


  <body>

    <div class="menu-box">

      <!-- ABOUT SEC -->
      <div class="hex"><div class="hexagon one-alt" id="abouthex0" onclick="toggleAboutHex()" style="left: 0px; z-index: 100">
        <i class="fa fa-info-circle"></i><br>
        About
      </div></div>

      <div class="hex"><div class="hexagon one" id="abouthex1" style="left: -75px; top: 135px">
        <i class="fa fa-exclamation-triangle"></i><br>
        Challenge
      </div></div>

      <div class="hex" onclick="mapModalToggle()" id="abouthex2"><div class="hexagon one" style="left: -150px;">
        <i class="fa fa-map"></i><br>
        Where
      </div></div>

      <!-- METHOD SEC -->
      <div class="hex"><div class="hexagon two-alt" id="methodhex0" onclick="toggleMethodHex()" style="left: 75px; top: 135px">
        <i class="fa fa-search"></i><br>
        Methodology
      </div></div>

      <div class="hex"><div class="hexagon two" id="methodhex1" style="left: 0px; top: 270px">
        <i class="fa fa-user"></i><br>
        User-Centered
      </div></div>

      <!-- OUTCOMES SEC -->
      <div class="hex"><div class="hexagon three" style="left: 225px; top: 135px">
        <i class="fa fa-book"></i><br>
        Results Guide
      </div></div>

      <!-- DATA SEC -->
      <div class="hex"><div class="hexagon four-alt" id="datahex0" onclick="toggleDataHex()" style="left: 300px; top: 270px">
        <i class="fa fa-database"></i><br>
        Explore Data
      </div></div>

      <div class="hex" id="datahex1"><div class="hexagon four" style="left: 375px; top: 405px;">
        <i class="fa fa-pagelines"></i><br>
        Tree Diagram
      </div></div>

      <div class="hex" id="datahex2">
        <a href="/boxes.html">
          <div class="hexagon four" style="left: 450px; top: 270px;">
            <i class="fa fa-th"></i><br>
            Box Diagram
          </div>
        </a>
      </div>
    </div>

    <div class="map" style="display:none;">
      <span onclick="mapModalToggle()" style="right:25px;position:absolute;z-index:99999">
        <i class="fa fa-times-circle" style="color:#152c33;text-shadow:0px 0px 6px rgba(0,0,0,0.4); cursor:pointer"></i>
      </span>
      <div id="map"></div>
    </div>

    <div class="title">
      <div class="big"><a href="/">Phase 1 Research Review</a></div>
       <div class="sub"><a href="http://c4a-slc.tumblr.com/">
        Code for America: 2016 Team Salt Lake
      </a></div>
    </div>

    <div class="about">
      <div class="text" style="text-align: center;">
        <i class="fa fa-question-circle" onclick="$('#abt-txt').slideToggle()" style="width: 35px; line-height: 2px; cursor: pointer; font-size: 1.75em;"></i>
      </div>
      <div class="text" id="abt-txt" style="min-width: 600px; width: 80%; display: none; font-size: 0.8em;">
        <a href="https://www.codeforamerica.org/">Code for America</a> is <a href="https://www.codeforamerica.org/governments/saltlakecounty/">partnering</a> with Salt Lake County to build technology solutions to improve services and strengthen the relationship between the county and its citizens, with an aim to lower the rate at which citizens fail to appear (FTA) in court, supervision and treatment appointments in addition to lowering the recidivism rate. 
      </div>
    </div>

  </body>

  <script type="text/javascript">
    window.onload = function () {
      var dy = Math.round((window.innerHeight - 450)/2);
      if (dy > 0) $(".menu-box").css("margin-top", dy + "px");
      toggleDataHex();
      toggleAboutHex();
      toggleMethodHex();
    };

    var map;

    function mapModalToggle () {
      $(".map").toggle("fade", function () { if (!map) drawMap(); });
    };

    function toggleDataHex () { 
      var classFour = $("#datahex0").hasClass("four");
      if (classFour) {
        $("#datahex0").addClass("four-alt");
        $("#datahex0").removeClass("four");
      } else {
        $("#datahex0").addClass("four");
        $("#datahex0").removeClass("four-alt");
      }
      $("#datahex1").fadeToggle(function () { $("#datahex2").fadeToggle(); });
    };

    function toggleAboutHex () { 
      var classOne = $("#abouthex0").hasClass("one");
      if (classOne) {
        $("#abouthex0").addClass("one-alt");
        $("#abouthex0").removeClass("one");
      } else {
        $("#abouthex0").addClass("one");
        $("#abouthex0").removeClass("one-alt");
      }
      $("#abouthex1").fadeToggle(function () { $("#abouthex2").fadeToggle(); });
    };

    function toggleMethodHex () { 
      var classTwo = $("#methodhex0").hasClass("two");
      if (classTwo) {
        $("#methodhex0").addClass("two-alt");
        $("#methodhex0").removeClass("two");
      } else {
        $("#methodhex0").addClass("two");
        $("#methodhex0").removeClass("two-alt");
      }
      $("#methodhex1").fadeToggle(function () {  });
    };

    function drawMap () {
      var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',{attribution: ""});
      map = L.map("map", {
        scrollWheelZoom: false,
        center: [40.6708, -111.8910],
        zoom: 11
      });

      map.addLayer(layer);

      [
        {latlng: [40.777338, -111.888040], name: "Maps on the Hill"},
        {latlng: [40.759576, -111.887005], name: "David Litvack"},
        {latlng: [40.759639, -111.889491], name: "CourtHack"},
        {latlng: [40.764097, -111.903263], name: "Homeless Court"},
        {latlng: [40.763339, -111.904101], name: "Homeless User Interviews"},
        {latlng: [40.764428, -111.904680], name: "Road Home"},
        {latlng: [40.759168, -111.881585], name: "Salt Lake City Police Department"},
        {latlng: [40.760896, -111.882776], name: "HackNight SLC"},
        {latlng: [40.759486, -111.886587], name: "OpenSLC"},
        {latlng: [40.698867, -111.916213], name: "Sheriff Winder and Deputy Chief Lofgreen"},
        {latlng: [40.696710, -111.914882], name: "County Metro Jail <br> Observed intake, processing, and release"},
        {latlng: [40.726604, -111.887450], name: "Salt Lake County Information Systems"},
        {latlng: [40.726277, -111.887446], name: "Mayor Ben McAdams"},
        {latlng: [40.727944, -111.887714], name: "Salt Lake County Registrar"},
        {latlng: [40.728502, -111.875545], name: "Code for America Team Salt Lake County"},
        {latlng: [40.485133, -111.895048], name: "Adult Parole and Probation"},
        {latlng: [40.570915, -111.895366], name: "Sandy Police Department"},
        {latlng: [40.570475, -111.896085], name: "LEADS Meeting"},
        {latlng: [40.760865, -111.902913], name: "Homeless Outreach"},
        {latlng: [40.758516, -111.889169], name: "Veterans Court"},
        {latlng: [40.764253, -111.891304], name: "Goldman Sachs"},
        {latlng: [40.759294, -111.884079], name: "Homeless Outreach"},
        {latlng: [40.741875, -111.885861], name: "Criminal Justice Services <br> Pretrial and probation supervision appointments"},
        {latlng: [40.741947, -111.886406], name: "TASC, Inc <br> Urine Analysis"},
        {latlng: [40.759760, -111.888593], name: "Third District Court <br> Procedural observations"}

      ].forEach(function (ea) {console.log(ea.name);
        L.marker(ea.latlng).addTo(map).bindPopup(ea.name);
      });
    }

  </script>

</html>